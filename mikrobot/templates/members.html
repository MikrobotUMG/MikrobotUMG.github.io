{% extends "layout.html" %}
{% block title %}Członkowie – MIKROBOT{% endblock %}
{% block content %}
<div class="row mb-4">
  <div class="col-12">
    <h1>Nasi członkowie</h1>
    <p>Poniżej przedstawiamy zespół koła naukowego. Każdy z nas wnosi do projektów
       unikalne doświadczenie i umiejętności.</p>
  </div>
</div>
{% for cat, members_list in categories.items() %}
  {% if members_list %}
    {% if cat == 'opiekun' %}
      <h2>Opiekunowie</h2>
    {% elif cat == 'zarząd' %}
      <h2>Zarząd</h2>
    {% else %}
      <h2>Członkowie</h2>
    {% endif %}
    {#
      Każda kategoria jest wyświetlana w osobnym wierszu. Aby zachować
      symetrię i uniknąć przesunięć (np. gdy jest tylko jeden opiekun),
      dodajemy klasę justify-content-center do wiersza, która centruje
      karty w poziomie. Szerokości kolumn są dopasowane do liczby osób w
      danej kategorii: dla opiekunów przyjmujemy dwa miejsca (col-md-6),
      dla zarządu i członków – trzy miejsca (col-md-4). Na mniejszych
      ekranach używamy col-sm-6, a na bardzo wąskich jeden element
      zajmuje całą szerokość (col-12).
    #}
    <div class="row justify-content-center">
      {% for member in members_list %}
        {% if cat == 'opiekun' %}
          {% set col_class = 'col-12 col-sm-6 col-md-6' %}
        {% elif cat == 'zarząd' %}
          {% set col_class = 'col-12 col-sm-6 col-md-4' %}
        {% else %}
          {% set col_class = 'col-12 col-sm-6 col-md-4' %}
        {% endif %}
        <div class="{{ col_class }} mb-4 d-flex align-items-stretch">
          <div class="card h-100 shadow-sm w-100">
            <img src="{{ url_for('static', filename=member['photo']) }}" class="card-img-top member-photo" alt="{{ member['name'] }}">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{ member['name'] }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">{{ member['role'] }}</h6>
              <p class="card-text">{{ member['description'] }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endfor %}
{% if categories['opiekun']|length + categories['zarząd']|length + categories['członek']|length == 0 %}
  <p>Brak zarejestrowanych członków.</p>
{% endif %}
{% endblock %}